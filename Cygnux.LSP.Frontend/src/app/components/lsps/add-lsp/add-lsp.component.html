<div class="row">
  <div class="col-sm-12">
    <div class="card">
      <div class="card-body">
        <form
          [formGroup]="lspForm"
          class="needs-validation"
          autocomplete="off"
          (submit)="onSubmitLsp(lspForm)"
        >
          <ul
            class="nav nav-tabs border-tab nav-primary"
            id="info-tab"
            role="tablist"
          >
            <li class="nav-item">
              <a
                class="nav-link active"
                id="basic-info-tab"
                data-bs-toggle="tab"
                href="#basic-info"
                role="tab"
                aria-controls="basic-info"
                aria-selected="true"
              >
                <i class="icofont icofont-ui-home"></i>Basic Info
              </a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                id="other-info-tab"
                data-bs-toggle="tab"
                href="#other-info"
                role="tab"
                aria-controls="other-info"
                aria-selected="false"
              >
                <i class="icofont icofont-contacts"></i>Other Info
              </a>
            </li>
          </ul>
          <div class="tab-content" id="info-tabContent">
            <div
              class="tab-pane fade active show"
              id="basic-info"
              role="tabpanel"
              aria-labelledby="basic-info-tab"
            >
              <div class="row g-3">
                <div class="col-md-6 mb-11">
                  <label class="col-form-label">Lsp Name</label>
                  <input
                    class="form-control"
                    formControlName="lspName"
                    type="text"
                    required
                  />
                  <div
                    *ngIf="
                      lspForm.controls['lspName'].invalid &&
                      lspForm.controls['lspName']?.touched
                    "
                    class="text-danger"
                  >
                    <small
                      *ngIf="lspForm.controls['lspName'].errors?.['required']"
                      >Lsp name is required.</small
                    >
                  </div>
                </div>
                <div class="col-md-6">
                  <label class="col-form-label">Email address</label>
                  <input
                    class="form-control"
                    [readonly]="lspId != ''"
                    formControlName="emailId"
                    type="text"
                    required
                  />
                  <div
                    *ngIf="
                      lspForm.controls['emailId'].invalid &&
                      lspForm.controls['emailId']?.touched
                    "
                    class="text-danger"
                  >
                    <small
                      *ngIf="lspForm.controls['emailId'].errors?.['required']"
                      >Email is required.</small
                    >
                    <small
                      *ngIf="lspForm.controls['emailId'].errors?.['pattern']"
                      >Email is invalid.</small
                    >
                  </div>
                </div>
              </div>
              <div class="row g-3">
                <div class="col-md-6 mb-1">
                  <label class="col-form-label">Mobile Number</label>
                  <input
                    class="form-control"
                    [readonly]="lspId != ''"
                    formControlName="mobileNo"
                    type="text"
                    maxlength="10"
                    required
                  />
                  <div
                    *ngIf="
                      lspForm.controls['mobileNo'].invalid &&
                      lspForm.controls['mobileNo']?.touched
                    "
                    class="text-danger"
                  >
                    <small
                      *ngIf="lspForm.controls['mobileNo'].errors?.['required']"
                      >MobileNo is required.</small
                    >
                    <small
                      *ngIf="lspForm.controls['mobileNo'].errors?.['pattern']"
                      >MobileNo is invalid.</small
                    >
                  </div>
                </div>
                <div class="col-md-6">
                  <label class="col-form-label">Alias</label>
                  <input
                    class="form-control"
                    formControlName="alias"
                    type="text"
                    required
                  />
                  <div
                    *ngIf="
                      lspForm.controls['alias'].invalid &&
                      lspForm.controls['alias']?.touched
                    "
                    class="text-danger"
                  >
                    <small
                      *ngIf="lspForm.controls['alias'].errors?.['required']"
                      >Alias is required.</small
                    >
                  </div>
                </div>
              </div>
              <div class="row g-3">
                <div class="col-md-12">
                  <label class="col-form-label">Description</label>
                  <textarea
                    class="form-control"
                    formControlName="description"
                    type="text"
                    required
                  ></textarea>
                  <div
                    *ngIf="
                      lspForm.controls['description'].invalid &&
                      lspForm.controls['description']?.touched
                    "
                    class="text-danger"
                  >
                    <small
                      *ngIf="lspForm.controls['description'].errors?.['required']"
                      >Description is required.</small
                    >
                  </div>
                </div>
              </div>
              <div class="row g-3">
                <div class="col-md-6">
                  <label class="col-form-label">Logo</label>
                  <input
                    id="file"
                    type="file"
                    (change)="onFileChange($event)"
                    accept="image/*"
                  />
                  <div *ngIf="fileError" class="text-danger">
                    {{ fileError }}
                  </div>
                </div>
                <!-- Image Preview Section -->
                <div *ngIf="imagePreview || lspResponse?.logo">
                  <h4>Logo Preview:</h4>
                  <img
                    [src]="imagePreview || lspResponse?.logo"
                    alt="Logo Preview"
                    style="max-width: 100px; max-height: 100px"
                  />
                </div>

                <div class="col-md-3" *ngIf="lspId != ''">
                  <div class="checkbox p-0">
                    <input
                      id="dafault-checkbox"
                      type="checkbox"
                      formControlName="isActive"
                      data-bs-original-title=""
                      title=""
                    />
                    <label class="mb-0" for="dafault-checkbox">Active</label>
                  </div>
                </div>
              </div>
            </div>
            <div
              class="tab-pane fade"
              id="other-info"
              role="tabpanel"
              aria-labelledby="other-info-tab"
            >
              <div class="row g-3">
                <div class="col-md-6 mb-1">
                  <label class="col-form-label">API Key</label>
                  <input
                    class="form-control"
                    formControlName="apiKey"
                    type="text"
                  />
                </div>
                <div class="col-md-6">
                  <label class="col-form-label">API Url</label>
                  <input
                    class="form-control"
                    formControlName="apiUrl"
                    type="text"
                  />
                </div>
              </div>
              <div class="row g-3">
                <div class="col-md-6 mb-1">
                  <label class="col-form-label">Api Username</label>
                  <input
                    class="form-control"
                    formControlName="apiUsername"
                    type="text"
                  />
                </div>
                <div class="col-md-6">
                  <label class="col-form-label">Api Password</label>
                  <input
                    class="form-control"
                    formControlName="apiPassword"
                    type="text"
                  />
                </div>
              </div>
            </div>
          </div>
          <div class="mt-2">
            <button
              class="btn btn-success"
              type="submit"
              [disabled]="lspForm.invalid"
            >
              <i class="fa fa-check"></i> Submit</button
            >&nbsp;
            <button class="btn btn-danger" type="reset">
              <i class="fa fa-times"></i> Reset
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
